{% comment %}
YouTube section showcasing Mint My Garage video series
{% endcomment %}

<section class="relative w-full py-20 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden">
  <!-- Background text -->
  <div class="absolute top-10 left-1/2 -translate-x-1/2 opacity-5 font-montserrat font-bold text-white text-[140px] tracking-[5.60px] leading-none z-0 select-none animate-on-scroll">
    YOUTUBE
  </div>

  <div class="relative z-10 w-full mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section heading -->
    <div class="text-center mb-16 animate-on-scroll">
      <div class="flex items-center justify-center gap-3 mb-4">
        <svg class="w-12 h-12 text-red-500" fill="currentColor" viewBox="0 0 24 24">
          <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
        <h2 class="font-montserrat font-bold text-white text-[48px] tracking-wide">
          {{ section.settings.section_title | default: "MINT MY GARAGE" }}
        </h2>
      </div>
      <p class="font-montserrat font-normal text-gray-300 text-lg max-w-3xl mx-auto leading-relaxed">
        {{ section.settings.section_description | default: "Follow our YouTube series where we showcase real garage transformations, share expert tips, and give you behind-the-scenes access to our process." }}
      </p>
    </div>

    <!-- Featured Video -->
    {% assign featured_video = section.blocks | where: 'settings.is_featured', true | first %}
    {% if featured_video %}
      <div class="max-w-4xl mx-auto mb-16 animate-on-scroll">
        <div class="relative aspect-video rounded-2xl overflow-hidden bg-gray-800 group">
          {% if featured_video.settings.video_thumbnail %}
            <img 
              src="{{ featured_video.settings.video_thumbnail | image_url: width: 1200 }}" 
              alt="{{ featured_video.settings.video_title }}"
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
            >
          {% else %}
            <div class="w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center">
              <svg class="w-24 h-24 text-red-500" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
              </svg>
            </div>
          {% endif %}
          
          <!-- Play button overlay -->
          <div class="absolute inset-0 flex items-center justify-center">
            <div class="w-20 h-20 bg-red-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300 cursor-pointer">
              <svg class="w-8 h-8 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
              </svg>
            </div>
          </div>
          
          <!-- Video info overlay -->
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6">
            <h3 class="font-montserrat font-bold text-white text-xl mb-2">
              {{ featured_video.settings.video_title | default: "Featured Garage Transformation" }}
            </h3>
            <p class="font-montserrat text-gray-300 text-sm">
              {{ featured_video.settings.video_description | default: "Watch our latest garage transformation project." }}
            </p>
          </div>

          <!-- Click to play -->
          {% if featured_video.settings.youtube_url %}
            <a href="{{ featured_video.settings.youtube_url }}" target="_blank" class="absolute inset-0 z-10" aria-label="Watch {{ featured_video.settings.video_title }}"></a>
          {% endif %}
        </div>
      </div>
    {% endif %}

    <!-- Video Grid -->
    {% assign other_videos = section.blocks | where: 'settings.is_featured', false %}
    {% if other_videos.size > 0 %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
        {% for video in other_videos %}
          <div class="group relative overflow-hidden rounded-2xl bg-gray-800 hover:scale-105 transition-all duration-500 animate-on-scroll">
            <!-- Video thumbnail -->
            <div class="relative aspect-video">
              {% if video.settings.video_thumbnail %}
                <img 
                  src="{{ video.settings.video_thumbnail | image_url: width: 600 }}" 
                  alt="{{ video.settings.video_title }}"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                >
              {% else %}
                <div class="w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center">
                  <svg class="w-16 h-16 text-red-500" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </div>
              {% endif %}
              
              <!-- Play button -->
              <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center">
                  <svg class="w-6 h-6 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                  </svg>
                </div>
              </div>
              
              <!-- Duration badge -->
              {% if video.settings.video_duration %}
                <div class="absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs font-montserrat">
                  {{ video.settings.video_duration }}
                </div>
              {% endif %}
            </div>

            <!-- Video info -->
            <div class="p-4">
              <h4 class="font-montserrat font-bold text-white text-lg mb-2 group-hover:text-red-500 transition-colors duration-300">
                {{ video.settings.video_title | default: "Garage Transformation Video" }}
              </h4>
              <p class="font-montserrat text-gray-400 text-sm mb-3 line-clamp-2">
                {{ video.settings.video_description | default: "Watch this amazing garage transformation." }}
              </p>
              <div class="flex items-center justify-between">
                <span class="text-gray-500 text-xs font-montserrat">
                  {{ video.settings.video_date | default: "2024" }}
                </span>
                {% if video.settings.video_views %}
                  <span class="text-gray-500 text-xs font-montserrat">
                    {{ video.settings.video_views }} views
                  </span>
                {% endif %}
              </div>
            </div>

            <!-- Click to play -->
            {% if video.settings.youtube_url %}
              <a href="{{ video.settings.youtube_url }}" target="_blank" class="absolute inset-0 z-10" aria-label="Watch {{ video.settings.video_title }}"></a>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    <!-- Subscribe section -->
    <div class="text-center animate-on-scroll">
      <div class="max-w-2xl mx-auto space-y-6">
        <h3 class="font-montserrat font-bold text-white text-2xl">
          {{ section.settings.subscribe_title | default: "Subscribe for More Transformations" }}
        </h3>
        <p class="font-montserrat font-normal text-gray-300 text-lg">
          {{ section.settings.subscribe_description | default: "Don't miss out on our latest garage makeovers, expert tips, and behind-the-scenes content." }}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="{{ section.settings.youtube_channel_url | default: 'https://youtube.com/@mintgarage' }}" target="_blank" class="inline-flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white font-montserrat font-bold text-lg px-8 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 group">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
            </svg>
            {{ section.settings.subscribe_button_text | default: "SUBSCRIBE NOW" }}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "YouTube Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "MINT MY GARAGE"
    },
    {
      "type": "textarea",
      "id": "section_description",
      "label": "Section Description",
      "default": "Follow our YouTube series where we showcase real garage transformations, share expert tips, and give you behind-the-scenes access to our process."
    },
    {
      "type": "text",
      "id": "subscribe_title",
      "label": "Subscribe Title",
      "default": "Subscribe for More Transformations"
    },
    {
      "type": "textarea",
      "id": "subscribe_description",
      "label": "Subscribe Description",
      "default": "Don't miss out on our latest garage makeovers, expert tips, and behind-the-scenes content."
    },
    {
      "type": "text",
      "id": "subscribe_button_text",
      "label": "Subscribe Button Text",
      "default": "SUBSCRIBE NOW"
    },
    {
      "type": "url",
      "id": "youtube_channel_url",
      "label": "YouTube Channel URL",
      "default": "https://youtube.com/@mintgarage"
    }
  ],
  "blocks": [
    {
      "type": "video",
      "name": "Video",
      "settings": [
        {
          "type": "text",
          "id": "video_title",
          "label": "Video Title",
          "default": "Garage Transformation"
        },
        {
          "type": "textarea",
          "id": "video_description",
          "label": "Video Description",
          "default": "Watch this amazing garage transformation."
        },
        {
          "type": "url",
          "id": "youtube_url",
          "label": "YouTube URL"
        },
        {
          "type": "image_picker",
          "id": "video_thumbnail",
          "label": "Video Thumbnail"
        },
        {
          "type": "text",
          "id": "video_duration",
          "label": "Video Duration (e.g., 5:30)",
          "default": "5:30"
        },
        {
          "type": "text",
          "id": "video_views",
          "label": "Video Views",
          "default": "1.2K"
        },
        {
          "type": "text",
          "id": "video_date",
          "label": "Video Date",
          "default": "2024"
        },
        {
          "type": "checkbox",
          "id": "is_featured",
          "label": "Featured Video",
          "default": false
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "YouTube Section",
      "blocks": [
        {
          "type": "video",
          "settings": {
            "video_title": "Complete Garage Makeover - Before & After",
            "video_description": "Watch our complete garage transformation from start to finish.",
            "is_featured": true
          }
        },
        {
          "type": "video",
          "settings": {
            "video_title": "Epoxy Flooring Installation",
            "video_description": "Professional epoxy flooring installation process."
          }
        },
        {
          "type": "video",
          "settings": {
            "video_title": "Storage Solutions Tour",
            "video_description": "Explore our innovative storage solutions."
          }
        }
      ]
    }
  ]
}
{% endschema %}