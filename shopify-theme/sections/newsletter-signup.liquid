{% comment %}
Newsletter Signup section for email collection
{% endcomment %}

<section class="relative w-full py-20 bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden">
  <!-- Background text -->
  <div class="absolute top-10 left-1/2 -translate-x-1/2 opacity-5 font-montserrat font-bold text-white text-[140px] tracking-[5.60px] leading-none z-0 select-none animate-on-scroll">
    SUBSCRIBE
  </div>

  <div class="relative z-10 w-full mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto text-center space-y-12">
      
      <!-- Section heading -->
      <div class="animate-on-scroll">
        <div class="flex items-center justify-center gap-3 mb-6">
          <svg class="w-12 h-12 text-[{{ settings.primary_color }}]" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2L2 7L12 12L22 7L12 2Z"/>
            <path d="M2 17L12 22L22 17"/>
            <path d="M2 12L12 17L22 12"/>
          </svg>
          <h2 class="font-montserrat font-bold text-white text-[48px] tracking-wide">
            {{ section.settings.section_title | default: "STAY CONNECTED" }}
          </h2>
        </div>
        <p class="font-montserrat font-normal text-gray-300 text-xl max-w-3xl mx-auto leading-relaxed">
          {{ section.settings.section_description | default: "Get exclusive garage transformation tips, early access to new products, special offers, and inspiring before & after stories delivered to your inbox." }}
        </p>
      </div>

      <!-- Newsletter Form -->
      <div class="animate-on-scroll">
        <form class="max-w-2xl mx-auto space-y-6" action="{{ routes.root_url }}contact#contact_form" method="post" accept-charset="UTF-8">
          <input type="hidden" name="form_type" value="customer">
          <input type="hidden" name="utf8" value="âœ“">
          <input type="hidden" name="contact[tags]" value="newsletter">
          
          <!-- Email Input -->
          <div class="relative">
            <input 
              type="email" 
              name="contact[email]"
              placeholder="{{ section.settings.email_placeholder | default: 'Enter your email address...' }}"
              required
              class="w-full px-8 py-6 bg-gray-800/50 border-2 border-white/20 rounded-full text-white placeholder-gray-400 font-montserrat text-lg focus:outline-none focus:border-[{{ settings.primary_color }}] focus:ring-4 focus:ring-[{{ settings.primary_color }}]/20 transition-all duration-300"
            >
            <button 
              type="submit"
              class="absolute right-2 top-1/2 -translate-y-1/2 bg-gradient-to-r from-[{{ settings.primary_color }}] to-[{{ settings.secondary_color }}] hover:from-[{{ settings.accent_color }}] hover:to-[{{ settings.primary_color }}] text-white px-8 py-4 rounded-full font-montserrat font-bold transition-all duration-300 hover:scale-105 group"
            >
              {{ section.settings.submit_button_text | default: "SUBSCRIBE" }}
              <svg class="ml-2 w-5 h-5 inline group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </div>

          <!-- Optional: Additional fields -->
          {% if section.settings.collect_name %}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <input 
                type="text" 
                name="contact[first_name]"
                placeholder="First Name"
                class="px-6 py-4 bg-gray-800/50 border border-white/20 rounded-full text-white placeholder-gray-400 font-montserrat focus:outline-none focus:border-[{{ settings.primary_color }}] focus:ring-2 focus:ring-[{{ settings.primary_color }}]/20 transition-all duration-300"
              >
              <input 
                type="text" 
                name="contact[last_name]"
                placeholder="Last Name"
                class="px-6 py-4 bg-gray-800/50 border border-white/20 rounded-full text-white placeholder-gray-400 font-montserrat focus:outline-none focus:border-[{{ settings.primary_color }}] focus:ring-2 focus:ring-[{{ settings.primary_color }}]/20 transition-all duration-300"
              >
            </div>
          {% endif %}
        </form>

        <!-- Privacy Notice -->
        <p class="text-gray-400 text-sm font-montserrat max-w-2xl mx-auto leading-relaxed">
          {{ section.settings.privacy_text | default: "We respect your privacy. Unsubscribe at any time. By subscribing, you agree to our Terms of Service and Privacy Policy." }}
        </p>
      </div>

      <!-- Benefits Grid -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 pt-8 animate-on-scroll">
        <div class="text-center space-y-4">
          <div class="w-16 h-16 bg-gradient-to-br from-[{{ settings.primary_color }}] to-[{{ settings.secondary_color }}] rounded-full flex items-center justify-center mx-auto">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
          <h3 class="font-montserrat font-bold text-white text-lg">
            {{ section.settings.benefit_1_title | default: "Exclusive Tips" }}
          </h3>
          <p class="font-montserrat text-gray-300 text-sm">
            {{ section.settings.benefit_1_description | default: "Get expert garage organization and maintenance tips not available anywhere else." }}
          </p>
        </div>

        <div class="text-center space-y-4">
          <div class="w-16 h-16 bg-gradient-to-br from-[{{ settings.primary_color }}] to-[{{ settings.secondary_color }}] rounded-full flex items-center justify-center mx-auto">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/>
              <path d="M9 8V17H11V8H9ZM13 8V17H15V8H13Z"/>
            </svg>
          </div>
          <h3 class="font-montserrat font-bold text-white text-lg">
            {{ section.settings.benefit_2_title | default: "Special Offers" }}
          </h3>
          <p class="font-montserrat text-gray-300 text-sm">
            {{ section.settings.benefit_2_description | default: "Be the first to know about sales, promotions, and exclusive subscriber discounts." }}
          </p>
        </div>

        <div class="text-center space-y-4">
          <div class="w-16 h-16 bg-gradient-to-br from-[{{ settings.primary_color }}] to-[{{ settings.secondary_color }}] rounded-full flex items-center justify-center mx-auto">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
            </svg>
          </div>
          <h3 class="font-montserrat font-bold text-white text-lg">
            {{ section.settings.benefit_3_title | default: "Inspiration" }}
          </h3>
          <p class="font-montserrat text-gray-300 text-sm">
            {{ section.settings.benefit_3_description | default: "See stunning before & after transformations and get ideas for your own project." }}
          </p>
        </div>
      </div>

      <!-- Social Proof -->
      <div class="flex flex-col sm:flex-row items-center justify-center gap-8 pt-8 animate-on-scroll">
        <div class="flex items-center space-x-2">
          <div class="flex -space-x-2">
            <!-- Avatar placeholders -->
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[{{ settings.primary_color }}] to-[{{ settings.secondary_color }}] border-2 border-white flex items-center justify-center">
              <span class="text-white text-sm font-bold">M</span>
            </div>
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[{{ settings.secondary_color }}] to-[{{ settings.primary_color }}] border-2 border-white flex items-center justify-center">
              <span class="text-white text-sm font-bold">S</span>
            </div>
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-[{{ settings.primary_color }}] to-[{{ settings.accent_color }}] border-2 border-white flex items-center justify-center">
              <span class="text-white text-sm font-bold">J</span>
            </div>
            <div class="w-10 h-10 rounded-full bg-gray-600 border-2 border-white flex items-center justify-center text-white text-sm">
              +{{ section.settings.subscriber_count | default: "2K" }}
            </div>
          </div>
          <div class="text-left">
            <p class="text-white font-montserrat font-medium text-sm">
              Join {{ section.settings.subscriber_count | default: "2,000+" }} subscribers
            </p>
            <p class="text-gray-400 font-montserrat text-xs">
              Already getting our exclusive content
            </p>
          </div>
        </div>

        <!-- Trust badges -->
        <div class="flex items-center space-x-4 text-gray-400">
          <div class="flex items-center space-x-1">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z"/>
            </svg>
            <span class="text-xs font-montserrat">No Spam</span>
          </div>
          <div class="flex items-center space-x-1">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.1 16,12.7V16.2C16,16.8 15.4,17.3 14.8,17.3H9.2C8.6,17.3 8,16.8 8,16.2V12.7C8,12.1 8.6,11.5 9.2,11.5V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,10V11.5H13.5V10C13.5,8.7 12.8,8.2 12,8.2Z"/>
            </svg>
            <span class="text-xs font-montserrat">Secure</span>
          </div>
          <div class="flex items-center space-x-1">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19,15H15A3,3 0 0,1 12,12A3,3 0 0,1 15,9H19A1,1 0 0,1 20,10V14A1,1 0 0,1 19,15M15,11A1,1 0 0,0 14,12A1,1 0 0,0 15,13A1,1 0 0,0 16,12A1,1 0 0,0 15,11M11,9H7L5,15H9L11,9Z"/>
            </svg>
            <span class="text-xs font-montserrat">Unsubscribe Anytime</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.querySelector('form[action*="contact"]');
  if (form) {
    form.addEventListener('submit', function(e) {
      const submitBtn = form.querySelector('button[type="submit"]');
      const originalText = submitBtn.innerHTML;
      
      submitBtn.innerHTML = 'SUBSCRIBING...';
      submitBtn.disabled = true;
      
      // Re-enable after a delay (form will redirect)
      setTimeout(() => {
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
      }, 2000);
    });
  }
});
</script>

{% schema %}
{
  "name": "Newsletter Signup",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "STAY CONNECTED"
    },
    {
      "type": "textarea",
      "id": "section_description",
      "label": "Section Description",
      "default": "Get exclusive garage transformation tips, early access to new products, special offers, and inspiring before & after stories delivered to your inbox."
    },
    {
      "type": "text",
      "id": "email_placeholder",
      "label": "Email Placeholder",
      "default": "Enter your email address..."
    },
    {
      "type": "text",
      "id": "submit_button_text",
      "label": "Submit Button Text",
      "default": "SUBSCRIBE"
    },
    {
      "type": "checkbox",
      "id": "collect_name",
      "label": "Collect Name Fields",
      "default": false
    },
    {
      "type": "textarea",
      "id": "privacy_text",
      "label": "Privacy Notice",
      "default": "We respect your privacy. Unsubscribe at any time. By subscribing, you agree to our Terms of Service and Privacy Policy."
    },
    {
      "type": "text",
      "id": "subscriber_count",
      "label": "Subscriber Count",
      "default": "2,000+"
    },
    {
      "type": "text",
      "id": "benefit_1_title",
      "label": "Benefit 1 Title",
      "default": "Exclusive Tips"
    },
    {
      "type": "textarea",
      "id": "benefit_1_description",
      "label": "Benefit 1 Description",
      "default": "Get expert garage organization and maintenance tips not available anywhere else."
    },
    {
      "type": "text",
      "id": "benefit_2_title",
      "label": "Benefit 2 Title",
      "default": "Special Offers"
    },
    {
      "type": "textarea",
      "id": "benefit_2_description",
      "label": "Benefit 2 Description",
      "default": "Be the first to know about sales, promotions, and exclusive subscriber discounts."
    },
    {
      "type": "text",
      "id": "benefit_3_title",
      "label": "Benefit 3 Title",
      "default": "Inspiration"
    },
    {
      "type": "textarea",
      "id": "benefit_3_description",
      "label": "Benefit 3 Description",
      "default": "See stunning before & after transformations and get ideas for your own project."
    }
  ],
  "presets": [
    {
      "name": "Newsletter Signup"
    }
  ]
}
{% endschema %}